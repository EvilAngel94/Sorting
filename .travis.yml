# CI - CD file for the Sorting application
language: node_js

os:
  - linux
  - windows
  - osx
dist: trusty

# make use of the latest version of NodeJS
node_js:
  - node

# Specifying the branched to be ran on
branches:
  only:
    - master
    - develop
  except:
    - experimental

# installing the firebase tools necessary for deployment
before_script:
  - npm install firebase-tools -g

# Cache
cache:
  npm

# Actual script
script:
  - npm test

deploy:
  provider: firebase
  token:
    secure: "FIREBASE_TOKEN"
    message: "Deployment with Travis CI"
  on:
   branch: master